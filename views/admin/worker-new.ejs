<!DOCTYPE html>
<!--
Author: Thana Dev 2023
Product Name: Services
-->
<html lang="en">

<!--begin::Head-->

<head><!--Begin Meta links-->
    <%- include ('includes/meta-links.ejs') %>
        <!--End Meta links-->
</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_app_body" data-kt-app-layout="dark-sidebar" data-kt-app-header-fixed="true"
    data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-hoverable="true"
    data-kt-app-sidebar-push-header="true" data-kt-app-sidebar-push-toolbar="true"
    data-kt-app-sidebar-push-footer="true" data-kt-app-toolbar-enabled="true" class="app-default">
    <!--begin::Theme mode setup on page load-->
    <script>var defaultThemeMode = "light"; var themeMode; if (document.documentElement) { if (document.documentElement.hasAttribute("data-bs-theme-mode")) { themeMode = document.documentElement.getAttribute("data-bs-theme-mode"); } else { if (localStorage.getItem("data-bs-theme") !== null) { themeMode = localStorage.getItem("data-bs-theme"); } else { themeMode = defaultThemeMode; } } if (themeMode === "system") { themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"; } document.documentElement.setAttribute("data-bs-theme", themeMode); }</script>
    <!--end::Theme mode setup on page load-->
    <!--begin::App-->
    <div class="d-flex flex-column flex-root app-root" id="kt_app_root">
        <!--begin::Page-->
        <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
            <!--begin::Header-->
            <%- include('./includes/header.ejs') %>
                <!--end::Header-->
                <!--begin::Wrapper-->
                <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
                    <!--begin::Sidebar-->
                    <%- include('./includes/sidebar.ejs') %>
                        <!--end::Sidebar-->
                        <!--begin::Main-->
                        <div class="app-main flex-column flex-row-fluid mt-10" id="kt_app_main">
                            <!--begin::Content-->
                            <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
                                <!--begin::Post-->
                                <div class="post d-flex flex-column-fluid" id="kt_post">
                                    <!--begin::Container-->
                                    <div id="kt_content_container" class="container-fluid">
                                        <!--begin::Form-->
                                        <form class="form" id="add-worker-form">
                                            <!--begin::Content wrapper-->
                                            <div class="d-flex flex-column flex-column-fluid card">
                                                <!--begin::Card body-->
                                                <div class="card-body border-top pt-5">
                                                    <!--begin::Row-->
                                                    <div class="row">
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Emri dhe mbiemri</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <!--begin::Input-->
                                                                <p id="full_name-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <input type="text"
                                                                    class="form-control form-control-solid" name=""
                                                                    id="full_name" value=""
                                                                    placeholder="Shëno emrin dhe mbiemrin" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Emri i përdoruesit</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <!--begin::Input-->
                                                                <p id="username-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <input type="text"
                                                                    class="form-control form-control-solid" name=""
                                                                    id="username" value=""
                                                                    placeholder="Shëno emrin e përdoruesit" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Fjalëkalimi</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <!--begin::Input-->
                                                                <p id="password-error"
                                                                    class="text-danger show-errors mb-0"></p>

                                                                <input type="password"
                                                                    class="form-control form-control-solid" name=""
                                                                    id="password" value=""
                                                                    placeholder="Shëno fjalëkalimin" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Pozicioni në kompani</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <!--begin::Input-->
                                                                <p id="role-error" class="text-danger show-errors mb-0">
                                                                </p>
                                                                <select name="Pozicioni" aria-label="Pozicioni"
                                                                    data-control="select2"
                                                                    data-placeholder="Pozicioni në kompani"
                                                                    class="form-select mb-2" id="role">
                                                                    <option></option>
                                                                    <option value="superadmin">Admin
                                                                    </option>
                                                                    <option value="managment">Menagjment
                                                                    </option>
                                                                    <option value="pos">Pos
                                                                    </option>
                                                                    <option value="counter">Numërues stoku
                                                                    </option>
                                                                </select>
                                                                <!--end::Input-->
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Privilegjet në kompani</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <p id="access-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <!--begin::Input-->
                                                                <select name="Privilegjet" aria-label="Privilegjet"
                                                                    data-control="select2" id="access"
                                                                    data-placeholder="Privilegjet në kompani"
                                                                    class="form-select mb-2" multiple="multiple">
                                                                    <option></option>
                                                                    <option value="admin">Admin
                                                                    </option>
                                                                    <option value="pos">Pos
                                                                    </option>
                                                                </select>
                                                                <!--end::Input-->
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Njësia</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <p id="unit-error" class="text-danger show-errors mb-0">
                                                                </p>
                                                                <!--begin::Input-->
                                                                <select name="Njësia" aria-label="Njësia" id="unit"
                                                                    data-control="select2" data-placeholder="Njësia"
                                                                    class="form-select mb-2" >
                                                                    <option></option>
                                                                    <%for(let i=0;i<unit.length;i++){%>
                                                                        <option value="<%=unit[i]._id%>">
                                                                            <%=unit[i].unit_name%>
                                                                        </option>
                                                                        <%}%>
                                                                            </option>
                                                                </select>
                                                                <!--end::Input-->
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Data e fillimit të punës</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <p id="date-error" class="text-danger show-errors mb-0">
                                                                </p>
                                                                <!--begin::Input-->
                                                                <input class="form-control" placeholder="Zgjedh datën"
                                                                    id="kt_datepicker_1" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Numri personal(opsionale)</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <!--begin::Input-->
                                                                <p id="phone_number-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <input type="text"
                                                                    class="form-control form-control-solid" name=""
                                                                    id="phone_number" value=""
                                                                    placeholder="Shëno numrin personal" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Llogari bankare(opsionale)</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <p id="bank-error" class="text-danger show-errors mb-0">
                                                                </p>
                                                                <!--begin::Input-->
                                                                <input type="text"
                                                                    class="form-control form-control-solid" name=""
                                                                    id="bank" value=""
                                                                    placeholder="Shëno llogarinë bankare" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Paga neto</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <p id="salary_neto-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <!--begin::Input-->
                                                                <input type="text"
                                                                    class="form-control form-control-solid" name=""
                                                                    id="salary_neto" value=""
                                                                    placeholder="Shëno pagën neto" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="d-flex flex-column mb-2 fv-row">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Paga bruto</span>
                                                                </label>
                                                                <!--end::Label-->
                                                                <p id="salary_bruto-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <!--begin::Input-->
                                                                <input type="text" id="salary_bruto"
                                                                    class="form-control form-control-solid" name=""
                                                                    value="" placeholder="Shëno pagën bruto" />
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Col-->
                                                        <div class="col-md-3 col-lg-4 col-xl-3 col-sm-6">
                                                            <!--begin::Input group-->
                                                            <div class="fv-row mb-2">
                                                                <!--begin::Label-->
                                                                <label class="fs-6 fw-semibold form-label mt-3">
                                                                    <span>Përshkrimi i detyrave të punës</span>
                                                                </label>
                                                                <p id="comment-error"
                                                                    class="text-danger show-errors mb-0"></p>
                                                                <!--end::Label-->
                                                                <textarea class="form-control form-control-solid"
                                                                    name="" rows="2" id="comment"
                                                                    placeholder="Shëno përshkrimin e detyrave të punës"></textarea>
                                                                <!--end::Input group-->
                                                            </div>
                                                            <!--end::Input group-->
                                                        </div>
                                                        <!--end::Col-->
                                                        <!--begin::Action buttons-->
                                                        <div class="row">
                                                            <div class="d-flex align-items-center d-none">
                                                                <label
                                                                    class="form-check form-check-custom form-check-solid me-10">
                                                                    <input class="form-check-input h-20px w-20px"
                                                                        type="checkbox" name="printo[]" id="print">
                                                                    <span
                                                                        class="form-check-label fw-semibold text-dark fs-5">Printo
                                                                        kontratën e punës</span>
                                                                </label>
                                                            </div>
                                                            <div class="col-md-4 col-xl-3 col-sm-6 d-flex mt-3">
                                                                <div
                                                                    class="form-check form-switch form-switch-sm form-check-custom form-check-solid fs-4">
                                                                    <input class="form-check-input" type="checkbox"
                                                                        value="" name="notifications" id="regular"
                                                                        onclick="updateLabel(this)">
                                                                    <label class="form-check-label text-dark fs-4"
                                                                        id="labelText">I pa deklaruar</label>
                                                                </div>
                                                                <div
                                                                    class="form-check form-switch form-switch-sm form-check-custom form-check-solid fs-4 ps-5">
                                                                    <input class="form-check-input" type="checkbox"
                                                                        value="" name="notifications1" id="regular1"
                                                                        onclick="updateLabel1(this)">
                                                                    <label class="form-check-label text-dark fs-4"
                                                                        id="labelText1">Kohë e pacaktuar</label>
                                                                </div>
                                                            </div>
                                                            <!--begin::Col-->
                                                            <div
                                                                class="col-md-4 col-xl-3 col-sm-6 hidden-input1 d-none">
                                                                <!--begin::Input group-->
                                                                <div class="d-flex flex-column mb-2 fv-row">
                                                                    <!--begin::Label-->
                                                                    <label class="fs-6 fw-semibold form-label mt-3">
                                                                        <span>Filimi i punës me kontratë</span>
                                                                    </label>
                                                                    <!--end::Label-->
                                                                    <p id="start_work-error"
                                                                        class="text-danger show-errors mb-0">
                                                                    </p>
                                                                    <!--begin::Input-->
                                                                    <input type="text" id="start_work"
                                                                        class="form-control form-control-solid" name=""
                                                                        value="" placeholder="Shëno datën" />
                                                                </div>
                                                                <!--end::Input group-->
                                                            </div>
                                                            <!--end::Col-->
                                                            <!--begin::Col-->
                                                            <div
                                                                class="col-md-4 col-xl-3 col-sm-6 hidden-input1 d-none">
                                                                <!--begin::Input group-->
                                                                <div class="d-flex flex-column mb-2 fv-row">
                                                                    <!--begin::Label-->
                                                                    <label class="fs-6 fw-semibold form-label mt-3">
                                                                        <span>Mbarimi i punës me kontratë</span>
                                                                    </label>
                                                                    <!--end::Label-->
                                                                    <p id="end_work-error"
                                                                        class="text-danger show-errors mb-0">
                                                                    </p>
                                                                    <!--begin::Input-->
                                                                    <input type="text" id="end_work"
                                                                        class="form-control form-control-solid" name=""
                                                                        value="" placeholder="Shëno datën" />
                                                                </div>
                                                                <!--end::Input group-->
                                                            </div>
                                                            <!--end::Col-->
                                                            <div
                                                                class="col-md-4 col-xl-3 col-sm-6 mt-md-11 mt-3 d-flex justify-content-end">
                                                                <button id="" type="submit"
                                                                    data-kt-contacts-type="submit"
                                                                    class="btn btn-primary">
                                                                    <span class="indicator-label">Regjistro punëtorin e
                                                                        ri</span>
                                                                </button>
                                                                <!--end::Button-->
                                                            </div>
                                                        </div>
                                                        <!--end::Action buttons-->
                                                        <div class="row mt-5 d-none" id="contractWorker">
                                                            <!--begin::Col-->
                                                            <div class="col-12">
                                                                <!--begin::Input group-->
                                                                <div class="fv-row mb-2">
                                                                    <!--begin::Label-->
                                                                    <label class="fs-6 fw-semibold form-label mt-3">
                                                                        <span>Kontrata e gjeneruar për punëtorin</span>
                                                                    </label>
                                                                    <p id="comment-error"
                                                                        class="text-danger show-errors mb-0"></p>
                                                                    <!--end::Label-->
                                                                    <textarea class="form-control form-control-solid"
                                                                        name="" rows="20" id="contrat-textarea"
                                                                        placeholder=""></textarea>
<button id="convertButton" type="button" class="btn btn-primary">Convert to Word</button>
                                                                    <!--end::Input group-->
                                                                </div>
                                                                <!--end::Input group-->
                                                            </div>
                                                            <!--end::Col-->
                                                        </div>
                                                    </div>
                                                    <!--end::Row-->
                                                </div>
                                            </div>

                                        </form>
                                        <!--end::Form-->
                                    </div>
                                    <!--end::Container-->
                                </div>
                                <!--end::Post-->
                            </div>
                            <!--end::Content-->
                            <!--begin::Footer-->
                            <%- include('./includes/footer.ejs') %>
                                <!--end::Footer-->
                        </div>
                        <!--end:::Main-->
                </div>
                <!--end::Wrapper-->
        </div>
        <!--end::Page-->
    </div>
    <!--end::App-->
    <script>
        function updateLabel(checkbox, labelTextId, checkedText, uncheckedText) {
            var labelText = document.getElementById(labelTextId);
            if (checkbox.checked) {
                labelText.textContent = checkedText;
            } else {
                labelText.textContent = uncheckedText;
            }
        }

        const toggleInput1 = document.getElementById('regular1');
        const discountInput1 = document.getElementsByClassName('hidden-input1');

        toggleInput1.addEventListener('change', () => {
            for (let i = 0; i < discountInput1.length; i++) {
                if (toggleInput1.checked) {
                    discountInput1[i].classList.remove('d-none');
                } else {
                    discountInput1[i].classList.add('d-none');
                }
            }
            updateLabel(toggleInput1, 'labelText1', 'Kohë e caktuar', 'Kohë e pacaktuar');
        });

        const toggleInput2 = document.getElementById('regular');
        const discountInput2 = document.getElementById('contractWorker');

        toggleInput2.addEventListener('change', () => {
            if (toggleInput2.checked) {
                discountInput2.classList.remove('d-none');
            } else {
                discountInput2.classList.add('d-none');
            }
            updateLabel(toggleInput2, 'labelText', 'I deklaruar', 'I pa deklaruar');
        });
    </script>
<input type="hidden" value="<%=company.company_name%>" id="businessName-hidden">
<input type="hidden" value="<%=company.address%>" id="address-hidden">
<input type="hidden" value="<%=company.arbk%>" id="arbk-hidden">

    <!--begin::Javascript-->
    <%- include('./includes/script.ejs') %>
        <script src="/assets/js/utils.js"></script>
        <script src="/assets/js/worker/addworker.js"></script>
        <script src="/assets/js/worker/contrat.js"></script>

        <!--end::Javascript-->
</body>
<!--end::Body-->

</html>